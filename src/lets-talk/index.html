<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Let's Talk</title>
    <style media="screen">
      .speak{
        background-color: yellow;
      }
    </style>

    <script type="text/javascript">
      function say(message){
        let utterance = new SpeechSynthesisUtterance(message);
        let rateValue = localStorage['speech-rate'] || 1;
        utterance.rate = rateValue;
        window.speechSynthesis.speak(utterance);
      }

      function readDocument() {
        let thingsToSay = document.querySelectorAll('.speak');
        thingsToSay.forEach( it => {
          say(it.innerText);
        });
      }

      function init(){
        let talkButton = document.querySelector('#talk-button');
        talkButton.onclick = readDocument;

        readDocument();
      }

      window.onload = init;
    </script>

  </head>
  <body>
    <button id="talk-button"
            accesskey="t"><u>T</u>alk</button>

    <p class="speak">Hey Alexa, Good Morning!</p>
    <p>Alexa will respond with an interesting factoid or a "today in history" story.</p>

  </body>
</html>
